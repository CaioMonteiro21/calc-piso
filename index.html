<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora de Piso e Argamassa</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5 p-4 bg-white shadow rounded">
  <h2 class="mb-4 text-center">🧱 Calculadora de Piso e Argamassa</h2>

  <div class="row g-3">
    <div class="col-12 col-md-6">
      <label class="form-label">Comprimento da área (m):</label>
      <input type="number" class="form-control" id="areaComprimento" step="0.01" placeholder="Ex: 5">
    </div>

    <div class="col-12 col-md-6">
      <label class="form-label">Largura da área (m):</label>
      <input type="number" class="form-control" id="areaLargura" step="0.01" placeholder="Ex: 5">
    </div>

    <div class="col-12 col-md-6">
      <label class="form-label">Comprimento do piso (cm):</label>
      <input type="number" class="form-control" id="pisoComprimento" placeholder="Ex: 51">
    </div>

    <div class="col-12 col-md-6">
      <label class="form-label">Largura do piso (cm):</label>
      <input type="number" class="form-control" id="pisoLargura" placeholder="Ex: 51">
    </div>

    <div class="col-12 col-md-6">
      <label class="form-label">Peças por caixa:</label>
      <input type="number" class="form-control" id="pecasPorCaixa" placeholder="Ex: 5">
    </div>

    <div class="col-12 col-md-6">
      <label class="form-label">Preço do m² do piso (R$):</label>
      <input type="number" class="form-control" id="precoM2Piso" step="0.01" placeholder="Ex: 30">
    </div>

    <div class="col-12 col-md-6">
      <label class="form-label">Preço do saco de argamassa (R$):</label>
      <input type="number" class="form-control" id="precoSacoArgamassa" step="0.01" placeholder="Opcional">
    </div>

    <div class="col-12 col-md-6">
      <label class="form-label">Tipo de aplicação (argamassa):</label>
      <select class="form-select" id="tipoArgamassa">
        <option value="4.5">Piso comum (4,5 kg/m²)</option>
        <option value="7">Porcelanato grande (7,0 kg/m²)</option>
        <option value="9">Fachada (9,0 kg/m²)</option>
      </select>
    </div>

    <div class="col-12 d-grid">
      <button class="btn btn-primary" onclick="calcular()">Calcular</button>
    </div>

    <div class="col-12 mt-4">
      <div class="alert alert-info" id="resultado"></div>
    </div>
  </div>
</div>

<script>
  function calcular() {
    let areaC = parseFloat(document.getElementById('areaComprimento').value);
    let areaL = parseFloat(document.getElementById('areaLargura').value);
    let pisoC = parseFloat(document.getElementById('pisoComprimento').value) / 100;
    let pisoL = parseFloat(document.getElementById('pisoLargura').value) / 100;
    let pecasPorCaixa = parseInt(document.getElementById('pecasPorCaixa').value);
    let precoM2Piso = parseFloat(document.getElementById('precoM2Piso').value);
    let precoSacoArgamassa = parseFloat(document.getElementById('precoSacoArgamassa').value);
    let consumo = parseFloat(document.getElementById('tipoArgamassa').value);

    if (
      isNaN(areaC) || isNaN(areaL) ||
      isNaN(pisoC) || isNaN(pisoL) ||
      isNaN(pecasPorCaixa) || pecasPorCaixa <= 0 ||
      isNaN(precoM2Piso) || precoM2Piso <= 0
    ) {
      document.getElementById('resultado').innerHTML = "Por favor, preencha todos os campos obrigatórios corretamente.";
      return;
    }

    // Valor padrão se o campo for deixado em branco
    if (isNaN(precoSacoArgamassa)) {
      precoSacoArgamassa = 0;
    }

    let areaTotal = areaC * areaL;
    let areaPiso = pisoC * pisoL;
    let totalPisos = areaTotal / areaPiso;
    let totalPisosArredondado = Math.ceil(totalPisos);
    let totalCaixas = Math.ceil(totalPisos / pecasPorCaixa);

    let totalKgArgamassa = areaTotal * consumo;
    let sacosArgamassa = Math.ceil(totalKgArgamassa / 20);

    let precoPisoCaixa = precoM2Piso * areaPiso * pecasPorCaixa;
    let custoPisoTotal = precoPisoCaixa * totalCaixas;
    let custoArgamassa = precoSacoArgamassa * sacosArgamassa;

    let resultado = `
      <strong>Área total:</strong> ${areaTotal.toFixed(2)} m²<br>
      <strong>Peças de piso necessárias:</strong> ${totalPisosArredondado} unidades<br>
      <strong>Caixas de piso necessárias:</strong> ${totalCaixas} caixas<br>
      <strong>Preço de cada caixa de piso:</strong> R$ ${precoPisoCaixa.toFixed(2)}<br>
      <strong>Preço total do piso:</strong> R$ ${custoPisoTotal.toFixed(2)}<br>
      <strong>Argamassa necessária:</strong> ${totalKgArgamassa.toFixed(1)} kg (~${sacosArgamassa} sacos de 20kg)<br>
      <strong>Custo da argamassa:</strong> R$ ${custoArgamassa.toFixed(2)}<br>
      <strong><u>Custo total do projeto (piso + argamassa):</u></strong> R$ ${(custoPisoTotal + custoArgamassa).toFixed(2)}
    `;

    document.getElementById('resultado').innerHTML = resultado;
  }
</script>

</body>
</html>
